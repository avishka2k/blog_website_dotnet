@model blogsite_asp.Models.Blog

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<!-- Include FilePond scripts and styles -->
<link href="https://unpkg.com/filepond@4.28.2/dist/filepond.min.css" rel="stylesheet">
<script src="https://unpkg.com/filepond@4.28.2/dist/filepond.min.js"></script>

<!-- Initialize FilePond on the input element -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const inputElement = document.getElementById('filepondInput');
        const pond = FilePond.create(inputElement);
    });
</script>

@using (Html.BeginForm("Create", "Blogs", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
@Html.AntiForgeryToken()

    <div class="container-fluid">

        <!-- Page Header -->
        <div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
            <h1 class="page-title fw-semibold fs-18 mb-0">Create Blog</h1>
            <div class="ms-md-1 ms-0">
                <nav>
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="#">Blog</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Create Blog</li>
                    </ol>
                </nav>
            </div>
        </div>
        <!-- Page Header Close -->
        <!-- Start::row-1 -->
        <div class="row">
            <div class="col-xxl-9 col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card custom-card">
                    <div class="card-header">
                        <div class="card-title">New Blog</div>
                    </div>
                    <div class="card-body">
                        <div class="row gy-3">
                            <div class="col-xl-12">
                                <label for="blog-title" class="form-label">Blog Title</label>
                                <input type="text" class="form-control" id="blog-title" name="blog_title" placeholder="Blog Title" required>
                            </div>
                            <div class="col-xl-6">
                                <label for="blog-category" class="form-label">Blog Category</label>
                                <select class="form-control" data-trigger name="blog_category" id="blog-category">
                                    <option value="">Select Category</option>
                                    <option value="Choice 1">Nature</option>
                                    <option value="Choice 2">Sports</option>
                                    <option value="Choice 3">Food</option>
                                    <option value="Choice 3">Travel</option>
                                    <option value="Choice 3">Fashion</option>
                                    <option value="Choice 3">Beauty</option>
                                </select>
                            </div>
                            <div class="col-xl-6">
                                <label for="product-status-add" class="form-label">Published Status</label>
                                <select class="form-control" data-trigger name="publish_status" id="product-status-add">
                                    <option value="Published">Published Now</option>
                                    <option value="Scheduled">Schedule</option>
                                    <option value="onHold">On Hold</option>
                                </select>
                            </div>
                            <div class="col-xl-6">
                                <div class="publish-container">
                                    <label for="publish-date" class="form-label">Publish Date</label>
                                    <input type="text" class="form-control" id="publish-date" placeholder="Choose date" disabled>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="publish-container">
                                    <label for="publish-time" class="form-label">Publish Time</label>
                                    <input type="text" class="form-control" id="publish-time" placeholder="Choose time" disabled>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <label for="blog-tags" class="form-label">Blog Tags</label>
                                <select class="form-control" name="blog-tags" id="blog-tags" multiple>
                                    <option value="Top Blog" selected>Top Blog</option>
                                    <option value="Blogger">Blogger</option>
                                    <option value="Adventure">Adventure</option>
                                    <option value="Landscape" selected>Landscape</option>
                                </select>
                            </div>
                            <div class="col-xl-12">
                                <label class="form-label">Blog Content</label>
                                <div id="blog-content"></div>
                            </div>
                            <div class="col-xl-12 blog-images-container">
                                <label for="blog-author-email" class="form-label">Blog Images</label>
                                <input type="file" class="filepond" name="blogimageurl" id="filepondInput" data-max-file-size="5MB" data-max-files="1">
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="btn-list text-end">
                            <button type="button" class="btn btn-sm btn-light">Save As Draft</button>
                            <button type="submit" class="btn btn-sm btn-primary">Post Blog</button>
                        </div>
                    </div>
                </div>
            </div>
           
        </div>
        <!--End::row-1 -->

    </div>



}

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        var statusSelect = document.getElementById("product-status-add");
        var publishDate = document.getElementById("publish-date");
        var publishTime = document.getElementById("publish-time");

        // Initially disable the publish inputs
        publishDate.disabled = true;
        publishTime.disabled = true;

        // Event handler for status select change
        statusSelect.addEventListener("change", function () {
            if (this.value === "Scheduled") {
                publishDate.disabled = false;
                publishTime.disabled = false;
            } else {
                publishDate.disabled = true;
                publishDate.value = "";
                publishTime.disabled = true;
                publishTime.value = "";
            }
        });
    });
    </script>


<div>
    @Html.ActionLink("Back to List", "Index")
</div>

<script src="https://unpkg.com/filepond@4.28.2/dist/filepond.min.js"></script>


